<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cinema Theater Ticket Booking</title>
     <!-- Cascading dropdown means one dropdown depends on another dropdown -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <style>
        select {
          width: 150px;
          height: 38px;
          margin-left: 25px;
          border-radius: 10px;
        }
        button {
          margin-left: 25px;
          border-radius: 10px;
        }
      </style>
    <script>
        var movies = ["Select The Movie","Vaathi","Varisu","Indian 2"];
        var Vaathi = ["Select The Cinema","Sri Venkateshvara Theator","Inox Theator"];
        var Varisu = ["Select The Cinema","Inox Theator", "Sri Venkateshvara Theator"];
        var Indian2 = ["Select The Cinema","Thulasi Theator","Inox Theator"];
        var srivenkateshvaratheator = ["Select The Date","Wed 8 Mar","Thur 9 Mar"];
        var inoxtheator = ["Select The Date","Wed 8 Mar","Thur 9 Mar"];
        var thulasitheator = ["Select The Date","Thur 9 Mar", "Fri 10 Mar"];
        var mar8 = ["Select The Time","9 am","12 pm","4 pm"];
        var mar9 = ["Select The Time","10 am","12 pm","6 pm"];
        var mar10 = ["Select The Time","9.30 am","2 pm","5.30 pm"];
        var srivenkateshvaratheatorseats = ["Select The Available Seat","2","5","8","9","10","15"];
        var inoxtheatorseats = ["Select The Available Seat","1","3","4","9","10","25"];
        var thulasitheatorseats = ["Select The Available Seat","2","15","18","19","20","23"];
        var cinemas = [];
        var dates = [];
        var times = [];
        var seats = [];


        function LoadMovie(){
            for(var movie of movies){
                 var option = document.createElement("option");
                 option.text=movie;
                 option.value=movie;
                 document.getElementById("movie").appendChild(option);
            }
        }
        function ChangeMovie(){
            var movieName=document.getElementById("movie").value;

              switch(movieName){
                case "Vaathi":
                 cinemas = Vaathi;
                 LoadCinema();
                 break;
                case "Varisu":
                 cinemas = Varisu;
                 LoadCinema();
                 break;
                case "Indian 2":
                 cinemas = Indian2;
                 LoadCinema();
                default:
                 cinemas = ["Select The Cinema"]
                 LoadCinema;
              }
        }

        function LoadCinema(){
            document.getElementById("cinema").innerHTML="";
            for(var cinema of cinemas){
                var option = document.createElement("option");
                option.text=cinema;
                option.value=cinema;
                document.getElementById("cinema").appendChild(option);
            }
        }
        function ChangeCinema(){
            var cinemaName = document.getElementById("cinema").value;
              switch(cinemaName){
                case "Sri Venkateshvara Theator":
                 dates = srivenkateshvaratheator;
                 LoadDate();
                 break;
                case "Inox Theator":
                 dates = inoxtheator;
                 LoadDate();
                 break;
                case "Thulasi Theator":
                 dates = thulasitheator;
                 LoadDate();
                 break;
                default:
                 dates = ["Select The Dates"];
              }
        }
        function LoadDate(){
            document.getElementById("date").innerHTML="";
            for(var date of dates){
                var option = document.createElement("option");
                option.text=date;
                option.value=date;
                document.getElementById("date").appendChild(option);
            }
        }
        function ChangeDate(){
            var dateName= document.getElementById("date").value;
              switch(dateName){
                    case "Wed 8 Mar":
                     times = mar8;
                     LoadTime();
                     break;
                    case "Thur 9 Mar":
                     times = mar9;
                     LoadTime();
                     break;
                    case "Fri 10 Mar":
                     times = mar10;
                     LoadTime();
                     break;
                     default:
                     times = ["Select The Time"];
              }
        }
        function LoadTime(){
            document.getElementById("time").innerHTML="";
            for(var time of times){
                var option = document.createElement("option");
                option.text = time;
                option.value=time;
                document.getElementById("time").appendChild(option);
            }
        }
        function ChangeTime(){
            var timeName= document.getElementById("time").value;
              switch(timeName){
                    case "Sri Venkateshvara Theator Seats":
                     seats = srivenkateshvaratheatorseats;
                     LoadSeat();
                     break;
                    case "Thulasi Theator Seats":
                     seats = thulasitheatorseats;
                     LoadSeat();
                     break;
                    case "Inox Theator Seats":
                     seats = inoxtheatorseats;
                     LoadSeat();
                     break;
                     default:
                     seats = ["Select The Seats"];
              }
        }
        function LoadSeat(){
            document.getElementById("seat").innerHTML="";
            for(var seat of seats){
                var option = document.createElement("option");
                option.text = seat;
                option.value = seat;
                document.getElementById("seat").appendChild(option);
            }
        }
    function bodyload(){
        LoadMovie();
        LoadCinema();
        LoadDate();
        LoadTime();
        LoadSeat();
    }
    function printClick(){
    document.getElementById("lblmovie").innerHTML=document.getElementById("movie").value;
    document.getElementById("lblcinema").innerHTML=document.getElementById("cinema").value;
    document.getElementById("lbldate").innerHTML=document.getElementById("date").value;
    document.getElementById("lbltime").innerHTML=document.getElementById("time").value;
    document.getElementById("lblseat").innerHTML=document.getElementById("seat").value;
   

    movieName = document.getElementById("movie").value;
            if(movieName=="Vaathi"){
                document.getElementById("poster").src="public/images/vaathi2.jpg";
            }
            if(movieName=="Varisu") {
                document.getElementById("poster").src="public/images/varisu.jpg";
            }
            if(movieName=="Indian 2") {
                document.getElementById("poster").src="public/images/indian2.jpg";
            }
    }
    </script>
</head>
<body onload="bodyload()">
    <div class="navbar navbar-expand-lg navbar-dark bg-dark" >
        <div class="container-fluid">
            <button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#NavItems">
                <span class="navbar-toggler-icon"></span>
            </button>
            <img src="public/images/theater.webp" style="width: 100px;height: 100px;" class="navbar-brand" >
            
            <div class="navbar-collapse collapse" id="NavItems">
                <ul class="nav navbar-nav">
                    <li class="nav-item">
                        <a href="#" class="nav-link">Home</a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link">Online Booking</a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link">Movies</a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="nav-link">Food & Snacks</a>
                    </li>
                   
                </ul>
            </div>
        </div>
    </div>


        <div class="carousel slide carousel-dark" id="banner" data-bs-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active" data-bs-interval="3000">
                    <img src="public/images/inox1.webp" style="height: 300px;" class="w-100 d-block">
                </div>
                <div class="carousel-item" data-bs-interval="3000">
                    <img src="public/images/ionx.webp" style="height: 300px;" class="w-100 d-block">
                </div>
                <div class="carousel-item" data-bs-interval="3000">
                    <img src="public/images/ino2.webp" style="height: 300px;" class="w-100 d-block">
                </div>
                <div class="carousel-item" data-bs-interval="3000">
                    <img src="public/images/ino3.webp" style="height: 300px;" class="w-100 d-block">
                </div>
            </div>
            <button data-bs-slide="prev" data-bs-target="#banner" class="carousel-control-prev">
                <span class="carousel-control-prev-icon"></span>
            </button>
            <button data-bs-slide="next" data-bs-target="#banner" class="carousel-control-next">
                <span class="carousel-control-next-icon"></span>
            </button>
        </div>

    <div style="display: flex;" class="mt-3 d-flex justify-content-between bg-dark p-2">
        <div>
            <select id="movie" onchange="ChangeMovie()"> </select>
        </div>
        <div>
            <select id="cinema" onchange="ChangeCinema()"> </select>
        </div>
        <div>
            <select id="date" onchange="ChangeDate()"> </select>
        </div>
        <div>
            <select id="time" onchange="ChangeTime()"> </select>
        </div>
        <div>
            <select id="seat"> </select>
        </div>
        <div>
            <button data-bs-target="#book" data-bs-toggle="modal" class="btn btn-success" onclick="printClick()">Book</button>
        </div>
            <div class="modal fade" id="book">
            <div class="modal-dialog">
                <div class="modal-content border border-3 border-danger">
                    <div class="modal-header">
                        <h3 style="color:blue;">Book Ticket</h3>
                        <button class="btn-close"  data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <dl class="row">
                            <dt>
                                <img id="poster" width="100%" height="200">
                            </dt>
                            <dt class="col-5 mt-4">Movie Name:</dt>
                            <dd class="col-7 mt-4" id="lblmovie"></dd>
                            <dt class="col-5 mt-4">Theator:</dt>
                            <dd class="col-7 mt-4" id="lblcinema"></dd>
                            <dt class="col-5 mt-4">On Date:</dt>
                            <dd class="col-7 mt-4" id="lbldate"></dd>
                            <dt class="col-5 mt-4">On Time:</dt>
                            <dd class="col-7 mt-4" id="lbltime"></dd>
                            <dt class="col-5 mt-4">On Seat:</dt>
                            <dd class="col-7 mt-4" id="lblseat"></dd>
                        </dl>
                        <div class="row mt-3">
                            <div class="col text-center">
                                <button class="btn btn-danger" onclick="window.print()">Print</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
</body>
</html>